[["index.html", "NCHRP 08-123: Census Transportation Data Field Guide for Transportation Applications Chapter 1 Introduction 1.1 History of the Census 1.2 History of Transportation in the Census", " NCHRP 08-123: Census Transportation Data Field Guide for Transportation Applications Cambridge Systematics 2021-12-08 Chapter 1 Introduction The central role that transportation plays in the U.S. economy is reflected in this comment from the National Surface Transportation Policy and Revenue Study Commission  The American economy works, in large measure, because shippers, manufacturers, and service providers have a transportation system that provides many ways to access labor and move raw materials and finished products. Individuals are able to travel to workplaces, shopping, educational institutions, recreation, medical care, and other locations critical to their quality of life. The changes brought about by technology and especially the smartphone revolution with its impacts on online shopping and the emergence of transportation network companies have upended the way people live, work, shop, and play with profound implications for transportation investment, policy, and operational decisions. One example of this change is the decrease in the proportion of licensed drivers among the 55 and under age cohorts in 2014 compared to 19831F . These changes in travel behavior need to be measured accurately to ensure that policy decisions happen in a data driven context. Collecting data on travel behavior is also becoming more challenging and is hampered by low survey response rates or high rates of survey attrition. Therefore, it is critical to quilt different sources of travel behavior data to provide estimates in a consistent, reliable, and sustainable manner. The FHWA report on data availability and gaps related to our understanding of travel behavior highlights the need for data fusion techniques to overcome these gaps2F . Census data, even in this age of big data, offer tremendous value and insights to help overcome the data availability and gaps identified by FHWA. The various data products released by the Census Bureau and its extensions provide information and insights that will help arrive at data driven policy decisions to address these changes. 1.1 History of the Census The Census is enshrined in the U.S. Constitution as stated in Article I, Section 2, clause 3: For a government of the people to function, the people must be counted. The Founders wanted an enumeration to occur within three years of the first meeting of Congress, and then within every subsequent Term of ten Years, in such Manner as they shall by Law direct. On March 1, 1790, President George Washington signed legislation into lawthe 1790 Census Actassigning U.S. marshals the task of conducting the nations first Census. Marshals and their assistants traveled throughout the 13 states, districts of Kentucky, Maine, Vermont, and the Southwest Territory (Tennessee) using rudimentary forms of their own design to collect the name of each head of household along with a numeric count of every households free White males aged 16 and older, free White males under 16, free White females, all other free persons, and slaves as of the first Monday of August 1790. At its conclusion, the 1790 Census found that the United States was home to 3,929,214 people. The largest urban places were New York City, NY (33,131 residents); Philadelphia, PA (28,522); Boston, MA (18,320); and Baltimore, MD (13,503). Twenty years later, Congress added the collection of manufacturing data to the 1810 Census. The Census expanded further with the first questions about the nations agricultural pursuits in 1820. In 1840, Congress added the collection of governments data about schools and school attendance. Beginning in 1850, marshals listed the name of every free person on the Census schedule, and the number of demographic inquiries grew to include questions to collect data about individuals profession, place of birth, and marital status. The Census Act of 1880 replaced the U.S. marshals and their assistantswho conducted the Censuses since 1790with specially-hired and trained enumerators. These Census enumerators collected so much data during the 1880 Census that it took a decade to complete its tabulation and publication. Anticipating an even greater volume of data in 1890, former Census Bureau employee and inventor Herman Hollerith received a contract to supply mechanical tabulators to speed data processing and tabulation. Enumerators used a separate schedule for each family during the 1890 Census and collected even more detailed data about individuals family, employment, health, education, and home ownership than in previous years. One hundred years after the United States conducted its first Census, the 1890 Census reported the nation had grown to nearly 63 million. Recognizing the need to maintain a permanent, specially-trained workforce charged with collecting the nations demographic, economic, agriculture and governments data, Congress made the U.S. Census Bureau a permanent agency in 1902. The Census Bureau could now plan population Censuses every 10 years as well as mid-decade Censuses and surveys, including more frequent Censuses of manufacturers and special Censuses of war commodities during World War I. Following the 1929 Stock Market Crash and the start of the Great Depression, the 1930 Census included a standard questionnaire that collected demographic, citizenship, occupation, employment, and veterans status data. A supplemental questionnaire also collected additional data to help the government better understand the impact that the economic crisis had on Americas workers. The 1940 Census was the first in which the Census Bureau used statistical sampling to collect additional data about the population without unduly increasing the overall burden on respondents and data processing. While visiting each household, the enumerators asked 5 percent of the nations population (i.e., those people whose name fell on the schedules sample lines) questions like their parents place of birth, mother tongue, veterans status, and for women, the number of marriages, age at first marriage, and number of children ever born. Subsequent Censuses added sample questions including the means of transportation to work (1960), occupation 5 years ago (1970), ancestry/ethnic origin (1980), and grandparents as caregivers (2000). In 2005, the annual American Community Survey replaced the sample questions on the decennial Census questionnaires. As a result, the 2010 Census used a single, 10-question form for the nearly 309 million people it counted. Over its 230 year history, the decennial Census has recorded the United States remarkable growth from its origins as a rural, farming nation in 1790 to the worlds third most populous country (behind China and India), which provided goods and services valued at $21.73 trillion in the fourth quarter of 2019. Figure 1.1 shows a timeline of the Census since 1790. Figure 1.1: Census Timeline since 1790 Source: U.S. Census Bureau 1.2 History of Transportation in the Census The inclusion of transportation items is a fairly recent occurrence in the history of the decennial Census. Questions pertaining to transportation did not appear until 1960 when three such questions were asked on a 25-percent sample basis. The population items in 1960 included questions on each workers place of work (city, county, and state) and means of transportation to work. The housing items included a question on the number of automobiles available for use by the members of each household. The principal impetus for adding the question on place of work to the 1960 Census was the need for data on commuting interchanges for use as an indicator of economic integration between large cities and their suburbs as part of the criteria for delineating metropolitan statistical areas. The commuting data from the Census were certainly of interest to transportation planners, but urban transportation planning in the early 1960s was still being done on the basis of locally conducted origin-destination surveys (See Figure 1.2) Figure 1.2: 1960 Census Transportation Questions Source: https://www.census.gov/history/pdf/1960censusquestionnaire-2.pdf. By 1970, with the development by the Census Bureau of Address Coding Guides (ACGs) and Dual Independent Map Encoding (DIME) files, interest in the Census as a source of transportation planning data increased considerably. The ACGs and DIME files provided the capability of geographically coding place-of-work addresses within the urbanized portion of metropolitan areas down to the level of the Census block. The 1970 Census again asked questions on place of work, means of transportation to work, and automobile availability. However, the place-of-work question asked for the actual street address of the respondents workplace, and these addresses were coded to Census blocks within the areas covered by ACGs and DIME files. The DOT contracted with the Bureau of the Census to create a series of special tabulations in a transportation planning package. Metropolitan Planning Organizations (MPOs) obtained the data tabulated for their traffic zones on a cost-reimbursable basis. Between 1970 and 1980, several developments resulted in a significant expansion in the number of transportation items included in the decennial Census. The energy crisis of the early 1970s and the subsequent ongoing concern for the nations supply of nonrenewable energy sources brought about a sharp increase in the need for statistics for transportation planning and policy formulation. From 1975 to 1977, under the sponsorship of the DOT, the Census Bureau conducted for the first time journey-to-work surveys in 60 metropolitan areas and a national survey in 1975, all as part of the Annual Housing Survey. In recognition of the growing need for analysis of these data, a Journey-to-Work Statistics Branch was created within the bureaus Population Division to carry out the technical planning and developmental work pertaining to the collection, processing, tabulation, and analysis of journey-to-work data from the decennial Census and periodic surveys. Also, during the decade, the cost of conducting metropolitan origin-destination surveys increased rapidly, and the DOT began to encourage local agencies to look to the decennial Census as an alternative source for cost effective transportation planning data. Thus, due to the significant increase in the need for transportation data at all levels of government, the 1980 Census included eight transportation items: six population questions and two housing questions. On the population side, in addition to questions on place of work and means of transportation to work, the 1980 Census asked about carpooling arrangements, the number of riders in the carpool, travel time from home to work, and whether persons had a disability that limited or prevented their use of public transportation. On the housing side, the automobile availability question was supplemented with an additional question on the number of light trucks and vans available for use by members of each household. Once again for the 1980 Census, the DOT contracted with the Census Bureau to create a series of special tabulations in a Transportation Planning Package. MPOs obtained the data tabulated for their traffic analysis zones on a cost-reimbursable basis. To increase the utility of the Census data for local transportation planning, the Census Bureau developed an innovative procedure to assign incomplete place-of-work responses to Census blocks so that they too could be tabulated at the traffic analysis zone level (See Figure 1.3). Figure 1.3: 1980 Census Transportation Questions Source: https://www.Census.gov/history/pdf/1980_long_questionnaire.pdf In contrast to the 1980 Census, the 1990 decennial Census did not break up the household vehicle availability question into two separate questions but rather treated it as a single question and included information about travel mode, work location, carpool as well as two new questions on departure time to work and travel time to work. The 2000 decennial Census, the last year of the long form, had the same transportation related questions as the 1990 decennial Census which were asked of one in six households. Since 2000, the long form is no longer available and transportation related questions are being asked by the American Community Survey (ACS) which samples one in forty households on a rolling basis. "],["census-transportation-planning-products.html", "Chapter 2 Census Transportation Planning Products 2.1 History of the CTPP", " Chapter 2 Census Transportation Planning Products The CTPP is an American Association of State Highway and Transportation Officials (AASHTO) sponsored Technical Services Program funded by member state transportation agencies and operates with support from FHWA, OST-R, FTA, Census Bureau, MPOs and TRB. The program includes data products; training and technical assistance; and research and outreach. The program is designed for the transportation community by the transportation community and is guided by an oversight board composed of MPOs and DOT representatives from across the United States. The CTPP uses data from the ACS and releases products based on the 5-year ACS. The CTPP summarizes data by place of residence, place of work, and flows from home to work. The data are available in both Census geography as well as custom geographies such as Traffic Analysis Zones (TAZs) and Traffic Analysis Districts (TAD) and are available for unique universes such as workers in households. The CTPP is built as a special tabulation by the Census Bureau for the transportation community. 2.1 History of the CTPP The availability of block-level data on commuting origins and destinations from the 1970 Census made possible the development for the first time of the Urban Transportation Planning Package (UTPP)15F . The 1970 UTPP was a special tabulation of Census data for individual metropolitan areas tailored to the geographic areas that are used in transportation planning. Local transportation planning organizations prepared specifications for the blocks that made up their traffic analysis zones, and the Census Bureau then produced a standard set of tabulations for those zones on a cost-reimbursable basis. Specifications for the content of the UTPP were submitted to the Bureau by FHWA. About 120 UTPPs were prepared using the 1970 Census. The Census Bureau again produced the UTPP after the 1980 Census. This time specifications were developed and submitted to the Bureau by an ad hoc committee of transportation planners under the auspices of TRB. Funding for development of the necessary computer programs and administration of the 1980 project was provided by the DOT. The number of packages produced increased to over 150. Significant innovations in the dissemination of the journey-to-work data were achieved for the 1990 Census. Two transportation planning packages were produced: statewide packages for each state and the District of Columbia and urban packages for the transportation study area defined by each MPO. Production of the transportation planning packages by the Census Bureau was sponsored by the state departments of transportation under a pooled funding arrangement with AASHTO. This pooled funding arrangement supported the production of data for the entire country instead of only those areas that decided to purchase the data as in previous Censuses. The number of packages produced (both state and metropolitan) increased to 415 for the 1990 Census. The 1990 CTPP continued the program established in 1970 and conducted in 1980 in the same general format. A working group was established to develop the specifications for the 1990 CTPP for both the metropolitan data set and the statewide data set. This ad hoc group consisted of members from AASHTO, the National Association of Regional Councils, FHWA, FTA, the Census Bureau, plus experts in the field from states and MPOs. A similar group had developed the 1980 UTPP. The statewide tabulations were the first product produced from the 1990 CTPP. A file was produced for each state, containing data for the households, persons, and workers who live in each city and county in the state, data on all workers working in each city and county in the state, and data on commuter flows between counties and cities. The urban tabulations were similar to the data provided in the statewide package, except that the data were tabulated on the basis of Census tracts or traffic analysis zones. The urban data were delivered after the delivery of the statewide packages. An urban package was produced for each metropolitan area for which the Census Bureau had an address coding capability. The main focus of the 2000 CTPP16F program was to improve access to the data for a wide range of participants in the program, and to take advantage of more modern data processing and analysis technologies. The first step in this process was to contract with two companies to create software to accompany the distribution of the 2000 CTPP data on CD. More modern methods were also provided for agencies to create their TAZ equivalency files and for examining and updating the Workplace Files (Major Employer Lists) used in Place-of-Work coding. FHWA, along with the Census Bureaus geography division, sponsored an ArcView application using TIGER-Line files which CTPP 2000 customers used to define Traffic Analysis Zones (TAZ-UP). The Journey to Work (JTW) Branch contracted with ESRI to create an ArcView application called the Workplace Update Extension (WorkUP). This was a tool that MPOs could use to verify, correct, and add entries for employers in their area to ensure more accurate and complete workplace data. An extended Place-of-Work allocation system was also developed and implemented in the 2000 Census. Extended allocation went beyond that used in the main Census and resulted in a greater number of records containing codes all the way down to the block level. 2.1.1 Dancing with the DRB Following the transition to the ACS, there were a series of changes that impacted the CTPP due to the smaller sample size in the ACS compared to the long form that was prevalent till 2000. In 2008, the Census Disclosure Review Board (DRB) reviewed the first ACS based CTPP product which was limited to the 3-year ACS data. The DRB handed down the following ruling: The data will be rounded as all ACS special tabulations. DRB rules for means, medians and other quantiles will be applied. For all tables where means of transportation is shown but not crossed with any other variable, there is no threshold on the means of transportation categories. For all tables where means of transportation is shown and crossed with one or more other variables, there must be at least 3 unweighted cases for each category of means of transportation in a given geographic area to be shown. Categories and/or geographic areas should be collapsed to meet this threshold. For all flow tables, there must be at least 3 unweighted cases per pair of geographic areas with the exception of Total workers univariate and Means of Transportation univariate (no required threshold). This ruling by the DRB led to AASHTO Standing committee on Planning (SCOP) approving funding for NCHRP 08-79: Producing Transportation Data Products from the ACS that Comply with Disclosure Rules and published as NCHRP web only report 18018F . This led to publication of disclosure proofed tables that shown in Figure 2.1. Disclosure Proofing is a statistical process known as perturbation that was applied to the ACS data to assure that an individual could not be identified. The process has been well vetted in the transportation and statistical communities and has been well accepted. Figure 2.1: Disclosure Rules for CTPP Tables Based on the Five-Year ACS Source: NCHRP Web Document 180  Producing Transportation Data Products from the American Community Survey That Comply with Disclosure Rules Even after meeting all the requirements of the DRB for the 2006  2010 CTPP, the Census Bureau asked the CTPP Oversight Board to reduce the proposed 2012 - 2016 tabulation by 2/3 and to reduce the number of tables produced at all geographies. Using a combination of table usage and subject matter expert insights, for the 2012 - 2016 CTPP, the number of tables available for public release were decreased by 176. These changes by parts 1, 2, and 3 are shown in Figure 2.2. Figure 2.2: Changes between 2006  2010 CTPP and 2012  2016 CTPP source: http://onlinepubs.trb.org/onlinepubs/conferences/2017/CensusData/FaellaNewData.pdf. As stated previously, the CTPP produces commute characteristics for the population broken across different universes: All Persons; All Workers; Persons in Household; and Workers in Households; Workers not working at home. For these different universes, commute characteristics as well as flow characteristics are available by various socioeconomic characteristics and commute mode. The complete list of tables and the associated geographies is available at the CTPP website "],["ctpp-case-studies.html", "Chapter 3 CTPP Case Studies 3.1 Case Study 1 - Understand Nationwide Demographic Trends 3.2 Case Study 2 - Statewide Snapshot of Mean Travel Times 3.3 Case Study 3 - Travel Demand Model Calibration 3.4 Resources", " Chapter 3 CTPP Case Studies This chapter provides a series of case studies for using the CTPP data for various analytical purposes. The code presented here are for illustrative purposes and it is the hope that analysts using this field guide will be able to take the code and manipulate it for their own needs. 3.1 Case Study 1 - Understand Nationwide Demographic Trends Scenario: Emily Planner is a GS5 who has recently joined FHWAs Office of Planning, Environment, and Realty (HEP). On the first week of her job, her supervisor comes to her and tells her that HEP is working to gather data to address historical inequities. Her supervisor asks her asks her that as part of the administrations initiative to address historical inequities, can she gather information about demographic trends in the nation. Also, while she is pulling up this data, can she also create a handy visual that provides decision makers with a snapshot of these trends at a macro level. After her supervisor hands over this assignment, Emily, having attended training offered by AASHTO, recalls that the CTPP has this information available in a handy manner and she can download the data quickly and develop the desired visual. 3.1.1 Analysis Steps for Case Study 1 The first thing that Emily does is head over to the CTPP website and gets to the CTPP data (Figure 3.1 and Figure 3.2). Figure 3.1: CTPP Website Figure 3.2: CTPP Data Access Knowing that she might be asked to retrieve this and other information on regular basis, Emily decides to create an account on the CTPP page to store her data calls and have it available on a regular basis (Figure 3.3) Figure 3.3: CTPP Login Details She then selects the 20122016 Part 1  Residence tables and from this list selects table A101201  Age (11) by Minority Status (3) (All Persons). She notes that this information is available only at large geographies (the data is available only at the State, County, MCD, Place, PUMA/POWPUMA, MSA levels). This level of geography was sufficient for the purposes of her analysis and she decides that this is the table she will use for her analysis (Figure 3.4) and proceeds to download it as a CSV file (Figure 3.5) Figure 3.4: Select Relevant CTPP Table Figure 3.5: Download Relevant CTPP Table The resulting dataset is show in Figure 3.6 Figure 3.6: Table A101201 Having downloaded the dataset, Emily proceeds to create the visual requested by her supervisor. She decides that a population pyramid for all states would be a handy visual for decision makers to have at their finger tips. To create this visual Emily undertakes the following steps. The data downloaded from the CTPP website does not have Census georeferences handy therefore Emily decides to map the GEOID to the data table downloaded from the CTPP site. #Load Libraries library(data.table) library(tidyverse) library(geofacet) ## Use data.table library to read the input file and merge it with GEOID file ## First read the data from the CSV downloaded in the previous step A101201 &lt;- fread(&quot;data/A101201.csv&quot;,header=TRUE,sep=&quot;,&quot;) ## Next read in the state file and set it as a data.table object (setDT command) stategeo &lt;- setDT(readRDS(&quot;data/state_geoids.RDS&quot;)) ## Merge the two files # Sort by NAME setkey(A101201,NAME) setkey(stategeo,NAME) # Now merge the files A101201A &lt;- stategeo[A101201] # View the resulting data frame tibble(A101201A) #&gt; # A tibble: 3,378 x 6 #&gt; GEOID NAME Age Minority Output Population #&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;int&gt; #&gt; 1 01 Alaba~ Total, a~ Total persons Estimate 4841165 #&gt; 2 01 Alaba~ Total, a~ White alone, ~ Estimate 3204335 #&gt; 3 01 Alaba~ Total, a~ White alone, ~ Margin ~ 642 #&gt; 4 01 Alaba~ Total, a~ Other Estimate 1636830 #&gt; 5 01 Alaba~ Total, a~ Other Margin ~ 642 #&gt; 6 01 Alaba~ Age 0 to~ Total persons Estimate 976860 #&gt; 7 01 Alaba~ Age 0 to~ Total persons Margin ~ 1377 #&gt; 8 01 Alaba~ Age 0 to~ White alone, ~ Estimate 570015 #&gt; 9 01 Alaba~ Age 0 to~ White alone, ~ Margin ~ 1114 #&gt; 10 01 Alaba~ Age 0 to~ Other Estimate 406845 #&gt; # ... with 3,368 more rows Emily then cleans up the resulting dataset and creates the Population Structure by Age and Minority Status by state (Figure 3.7) # Cleanup the dataset A101201B &lt;- A101201A %&gt;% filter(str_detect(Age, &quot;^Age&quot;), # Selects rows that starts with Age in the Age Column Output != &quot;Margin of Error&quot;, Minority !=&quot;Total persons&quot;) %&gt;% #Deletes rows where Output=Margin of Error and Minority = Total Persons group_by(NAME) %&gt;% #groups by state mutate(prop = Population / sum(Population, na.rm = TRUE)) %&gt;% # Calculate percentage by Race ungroup() %&gt;% mutate(prop = ifelse(Minority == &quot;White alone, not Hispanic/Latino&quot;, -prop, prop)) # Setup data for mapping ggplot(A101201B, aes(x = prop, y = Age, fill = Minority)) + geom_col(width = 1) + theme_minimal() + scale_fill_manual(values = c(&quot;darkred&quot;, &quot;navy&quot;)) + facet_geo(~NAME, grid = &quot;us_state_with_DC_PR_grid2&quot;, label = &quot;code&quot;) + theme(axis.text = element_blank(), strip.text.x = element_text(size = 8)) + labs(x = &quot;&quot;, y = &quot;&quot;, title = &quot;Population structure by Age and Minority Status&quot;, fill = &quot;&quot;, caption = &quot;Data source: 2012-2016 CTPP Table A101201&quot;) Figure 3.7: Population Structure by Age and Minority Status 3.2 Case Study 2 - Statewide Snapshot of Mean Travel Times Scenario: Jenny Modeler is a member of the Forecasting and Trends Office at the Florida DOT and they have been requested by their supervisor to provide a county level estimate of average travel times for commuters. 3.2.1 Analysis Steps for Case Study 2 Jenny heads to the CTPP site, and they create a new selection set showing only Florida counties and download table B106202  Mean Travel time (1) by Means of transportation (18) (Workers 16 years and over who did not work at home). The resulting dataset is show in Figure 3.8 Figure 3.8: Table B106202 The first step is to restructure the data and attach the county geometry to the data. The steps that Jenny undertakes is given in the code chunk below. #Load Libraries # Note that some of the libraries have been loaded previously and are available in the current session library(ggiraph) library(patchwork) # Read in B106202 (Mean Travel Time by Means of Transportation) mot &lt;- read_csv(&quot;data/B106202.csv&quot;) # Filter the dataset to include only Total Means of Transportation mottal &lt;- mot %&gt;% filter(MOT==&#39;Total, means of transportation&#39;) # The Mean Travel Time is read in a string variable and it is converted to a numeric variable mottal$mtt &lt;- as.numeric(as.character(mottal$MeanTT)) # Delete the string variable mottal &lt;- subset(mottal,select=-c(MeanTT)) # View the resulting dataset tibble(mottal) #&gt; # A tibble: 134 x 4 #&gt; NAME MOT Output mtt #&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; #&gt; 1 Alachua County, Fl~ Total, means of transp~ Estima~ 20.9 #&gt; 2 Alachua County, Fl~ Total, means of transp~ MOE 0.5 #&gt; 3 Baker County, Flor~ Total, means of transp~ Estima~ 29.9 #&gt; 4 Baker County, Flor~ Total, means of transp~ MOE 1.8 #&gt; 5 Bay County, Florida Total, means of transp~ Estima~ 22.8 #&gt; 6 Bay County, Florida Total, means of transp~ MOE 0.8 #&gt; 7 Bradford County, F~ Total, means of transp~ Estima~ 32.2 #&gt; 8 Bradford County, F~ Total, means of transp~ MOE 3.2 #&gt; 9 Brevard County, Fl~ Total, means of transp~ Estima~ 24.2 #&gt; 10 Brevard County, Fl~ Total, means of transp~ MOE 0.4 #&gt; # ... with 124 more rows # This step converts the data from long format to wide format and gets one record per county mottal_l &lt;- spread(mottal,Output,mtt) # View the resulting dataset tibble(mottal_l) #&gt; # A tibble: 67 x 4 #&gt; NAME MOT Estimate MOE #&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; #&gt; 1 Alachua County, Fl~ Total, means of trans~ 20.9 0.5 #&gt; 2 Baker County, Flor~ Total, means of trans~ 29.9 1.8 #&gt; 3 Bay County, Florida Total, means of trans~ 22.8 0.8 #&gt; 4 Bradford County, F~ Total, means of trans~ 32.2 3.2 #&gt; 5 Brevard County, Fl~ Total, means of trans~ 24.2 0.4 #&gt; 6 Broward County, Fl~ Total, means of trans~ 28 0.2 #&gt; 7 Calhoun County, Fl~ Total, means of trans~ 28.1 2.2 #&gt; 8 Charlotte County, ~ Total, means of trans~ 24.1 0.8 #&gt; 9 Citrus County, Flo~ Total, means of trans~ 25.3 1 #&gt; 10 Clay County, Flori~ Total, means of trans~ 33.5 0.7 #&gt; # ... with 57 more rows # Read in the Geography Files fl &lt;- readRDS(&quot;data/FL_geos.RDS&quot;) # Merge the geometry data with the mean travel time estimates motfl &lt;- merge(fl,mottal_l) # View the resulting dataset tibble(motfl) #&gt; # A tibble: 67 x 6 #&gt; NAME GEOID MOT Estimate MOE #&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; #&gt; 1 Alac~ 12001 Tota~ 20.9 0.5 #&gt; 2 Bake~ 12003 Tota~ 29.9 1.8 #&gt; 3 Bay ~ 12005 Tota~ 22.8 0.8 #&gt; 4 Brad~ 12007 Tota~ 32.2 3.2 #&gt; 5 Brev~ 12009 Tota~ 24.2 0.4 #&gt; 6 Brow~ 12011 Tota~ 28 0.2 #&gt; 7 Calh~ 12013 Tota~ 28.1 2.2 #&gt; 8 Char~ 12015 Tota~ 24.1 0.8 #&gt; 9 Citr~ 12017 Tota~ 25.3 1 #&gt; 10 Clay~ 12019 Tota~ 33.5 0.7 #&gt; # ... with 57 more rows, and 1 more variable: #&gt; # geometry &lt;MULTIPOLYGON [Â°]&gt; Now that Jenny has cleaned up the dataset, it is ready for visualization as requested by their supervisor. The next steps undertaken by Jenny provides a visual representation of the mean travel times by County and their supervisor can click on the county and identify the total average travel time (Figure 3.9) # Clean up County Names motfl &lt;- motfl %&gt;% mutate(NAME = str_remove(NAME, &quot; County, Florida&quot;)) # Create interactive map fl_map &lt;- ggplot(motfl, aes(fill = Estimate)) + geom_sf_interactive(aes(data_id = GEOID)) + scale_fill_distiller(palette = &quot;Blues&quot;, direction = 1, guide = &quot;none&quot;) + theme_void() # Plot mean travel time by County and sort it from highest to lowest. This also includes the error bar for Margins of Error fl_plot &lt;- ggplot(motfl, aes(x = Estimate, y = reorder(NAME, Estimate), fill = Estimate)) + geom_errorbarh(aes(xmin = Estimate - MOE, xmax = Estimate + MOE)) + geom_point_interactive(color = &quot;black&quot;, size = 6, shape = 21, aes(data_id = GEOID)) + scale_fill_distiller(palette = &quot;Blues&quot;, direction = 1) + scale_x_continuous() + labs(title = &quot;Mean Travel Time by County in Florida&quot;, subtitle = &quot;2012-2016 CTPP&quot;, y = &quot;&quot;, x = &quot;CTPP estimate (bars represent margin of error)&quot;, fill = &quot;Mean Travel Time Estimate&quot;) + theme_minimal(base_size = 18) # Assemble the map and plot and put them next to each other girafe(ggobj = fl_map + fl_plot, width_svg = 30, height_svg = 15) %&gt;% girafe_options(opts_hover(css = &quot;fill:cyan;&quot;)) Figure 3.9: Mean Travel Time by County in Florida 3.3 Case Study 3 - Travel Demand Model Calibration Scenario: Mary Modeler is a recent addition to the Atlanta Regional Commission (ARC) staff and she have been tasked by their supervisor to compare county to county flows from the ARC travel demand to the CTPP. 3.3.1 Analysis Steps for Case Study 3 Mary heads to the CTPP site, and she creates a new selection set showing only ARC counties and downloads table A302100  Total Workers (1) (Workers 16 years and over). The resulting dataset is show in Figure 3.10 Figure 3.10: Table A302100 She then tweaks the resulting dataset (Table 3.1) to provide information that will allow her to compare to the model. # Read A302100 workers &lt;- read_csv(&quot;data/A302100.csv&quot;) %&gt;% filter(Output != &quot;Margin of Error&quot;) # Delete unnecessary columns workers &lt;- subset(workers, select=-c(Output)) # Create CTPP OD Table workers_wide &lt;- spread(workers,WORKPLACE,Workers) # Due to Suppression, some cells have no values. Therefore, fill these with 0s workers_wide[is.na(workers_wide)] &lt;- 0 knitr::kable(workers_wide, caption = &quot;Worker Trips between ARC Counties from CTPP&quot;) Table 3.1: Worker Trips between ARC Counties from CTPP RESIDENCE Barrow Bartow Carroll Cherokee Clayton Cobb Coweta Dawson DeKalb Douglas Fayette Forsyth Fulton Gwinnett Hall Henry Newton Paulding Rockdale Spalding Walton Barrow 10445 15 0 0 35 175 0 4 825 0 0 275 1085 10240 1640 60 80 25 35 55 1155 Bartow 0 25630 20 1880 30 6550 20 0 315 175 45 225 2260 425 0 4 10 550 35 0 20 Carroll 0 135 29430 100 280 2110 1425 0 740 4305 165 125 3775 420 0 70 0 905 80 10 0 Cherokee 15 1770 70 46960 325 24060 90 55 3305 505 15 3570 23305 2900 145 140 0 170 50 75 0 Clayton 0 60 90 85 40710 3510 1055 0 9950 795 5135 155 36280 2215 30 9200 260 0 585 725 20 Cobb 30 2575 370 8095 3790 211035 290 0 17010 4660 455 1950 96845 7745 330 280 205 2920 275 85 45 Coweta 0 45 700 10 3435 1200 29025 0 1900 480 8715 70 12170 335 40 415 0 85 180 360 10 Dawson 0 10 0 85 40 70 0 3580 165 0 0 2790 1485 410 660 10 4 0 0 0 0 DeKalb 355 75 170 320 7880 11545 460 25 154220 975 730 1490 121290 30005 1230 2290 880 45 3560 75 280 Douglas 0 155 2835 75 890 10120 525 0 2485 24000 325 15 17070 930 10 275 4 1270 65 165 0 Fayette 0 0 170 0 4310 1530 2140 0 1415 345 23570 25 12600 325 0 1095 50 25 90 675 0 Forsyth 45 40 0 770 260 2110 20 1220 3615 30 70 45815 28465 8790 2395 45 45 10 30 0 50 Fulton 30 365 235 1280 10995 26915 1135 35 39365 2245 2630 7300 351485 20195 485 1355 65 175 755 170 100 Gwinnett 3330 290 165 410 3045 9190 100 365 44515 325 465 8150 75100 243680 8525 720 600 90 2000 15 2415 Hall 520 0 0 95 155 275 0 680 1085 4 15 2985 2980 10345 57905 30 85 50 35 0 185 Henry 0 50 35 70 13520 1990 580 0 8200 155 1485 0 17980 1695 15 37450 600 25 1795 2140 35 Newton 50 60 0 0 1050 380 0 0 4430 90 140 35 3735 2645 75 1030 17720 0 8650 250 1200 Paulding 0 1640 1495 715 565 23740 55 0 1750 4570 100 60 9775 1250 0 50 165 21435 70 0 0 Rockdale 70 0 0 25 920 400 0 0 6230 25 0 15 6045 1985 40 1045 2610 0 16370 20 475 Spalding 0 45 0 20 1625 155 365 0 345 65 1235 0 1665 85 0 3770 10 0 50 11605 0 Walton 1145 0 45 25 225 470 0 0 2520 0 10 190 1970 8350 200 70 1800 35 2025 40 15305 Mary also gets the model derived flows and these are shown in Table 3.2 # Read the data from Excel and specify specific sheet library(readxl) model_trips &lt;- read_excel(&quot;data/model_trips.xlsx&quot;,sheet=&quot;MT&quot;) # Create CTPP OD Table model_trips_wide &lt;- spread(model_trips,Destinations,ModelTrips) knitr::kable(model_trips_wide, caption = &quot;Worker Trips between ARC Counties from ARC Model&quot;) Table 3.2: Worker Trips between ARC Counties from ARC Model Origins Barrow Bartow Carroll Cherokee Clayton Cobb Coweta Dawson DeKalb Douglas Fayette Forsyth Fulton Gwinnett Hall Henry Newton Paulding Rockdale Spalding Walton Barrow 13517 2 0 37 72 306 0 41 1744 6 1 812 2087 10991 2645 74 409 2 483 2 2060 Bartow 0 28528 107 3045 70 9968 2 14 572 381 8 300 3033 241 21 7 0 1118 4 0 0 Carroll 0 145 35803 50 499 2666 1800 0 502 4145 564 5 3529 68 0 34 2 1262 11 22 1 Cherokee 24 2914 37 45525 464 29158 4 356 4058 386 35 4992 24657 4315 442 35 2 610 30 2 10 Clayton 4 7 64 60 51278 4348 604 0 11548 562 4720 72 39462 1564 1 5519 178 55 567 1041 47 Cobb 18 3566 644 9131 5923 229846 230 68 22682 7122 570 2147 94222 8028 113 342 47 5091 213 28 16 Coweta 0 4 2053 11 4123 1800 33095 0 1620 1507 9438 5 10498 154 0 769 8 151 61 1188 0 Dawson 17 25 0 512 3 290 0 4411 153 1 0 2106 1294 732 1382 0 1 2 0 0 3 DeKalb 92 62 38 261 16696 15337 157 12 158465 787 516 671 144980 19595 235 2171 779 128 3183 166 366 Douglas 1 196 2881 138 2660 10853 916 0 3801 23122 886 42 19326 624 1 209 13 1566 81 40 4 Fayette 0 1 211 10 6908 1933 2738 0 2290 672 22370 16 11059 294 0 1881 36 62 125 1500 10 Forsyth 222 151 0 3041 208 4044 1 2502 4335 35 9 42703 27270 14083 5783 24 12 33 34 2 81 Fulton 103 281 402 2711 25255 33995 1321 190 66099 2848 2456 8183 339310 25965 772 911 107 402 400 180 94 Gwinnett 4082 46 9 1122 3959 10988 29 365 55275 351 200 11258 72835 263694 10740 1169 1889 75 4745 41 4254 Hall 872 3 0 338 53 489 0 1254 1744 5 1 4334 3960 12478 63619 8 31 4 54 0 203 Henry 47 2 27 22 15855 2324 375 0 10703 325 2916 56 17441 2284 8 41749 2298 27 3487 3743 357 Newton 169 1 1 1 1841 549 27 2 5175 48 242 35 4108 2742 46 3418 19329 5 7790 342 2007 Paulding 0 2704 2918 1495 1036 23944 309 1 2357 6811 314 201 11462 722 4 65 4 21069 31 7 3 Rockdale 65 0 4 18 2260 953 25 1 7169 97 212 51 6310 3061 35 2090 2215 4 15079 209 622 Spalding 0 0 12 1 2194 218 451 0 573 38 1655 1 1780 55 0 3176 85 2 166 16188 7 Walton 1772 0 0 24 483 370 1 8 3736 29 27 396 2444 10053 551 585 2985 0 2955 25 15334 Mary then decides to plot out the differences between the model and CTPP flows to represent the magnitude of the difference and this is shown in Figure 3.11 # Read libraries library(chorddiag) library(readxl) # Read the data from Excel and specify specific sheet modeltrips &lt;- read_excel(&quot;data/model_trips.xlsx&quot;, sheet = &quot;Diff&quot;) # Set dataframe as matrix modeltrips &lt;- as.matrix(modeltrips) row.names(modeltrips) =c(&quot;Clayton&quot;,&quot;Cobb&quot;,&quot;DeKalb&quot;,&quot;Fulton&quot;,&quot;Gwinnett&quot;) chorddiag(modeltrips, type = &quot;bipartite&quot;, showTicks = F, groupnameFontsize = 14, groupnamePadding = 10, margin = 90) Figure 3.11: Differences between Model and CTPP Flows 3.4 Resources The CTPP has a ton of training resources available that interested users can avail. The CTPP website provides various forms of training and it can accessed at https://ctpp.transportation.org/training-resources/. Figure 3.12 shows the variety of training available. Figure 3.12: CTPP Training Resources "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
